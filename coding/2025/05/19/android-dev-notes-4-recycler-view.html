<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Android编程笔记（四）：RecyclerView | 开放笔记</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Android编程笔记（四）：RecyclerView" />
<meta name="author" content="徐顺发" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="记录生活、学习和思考" />
<meta property="og:description" content="记录生活、学习和思考" />
<link rel="canonical" href="https://goooooouwa.github.io/coding/2025/05/19/android-dev-notes-4-recycler-view.html" />
<meta property="og:url" content="https://goooooouwa.github.io/coding/2025/05/19/android-dev-notes-4-recycler-view.html" />
<meta property="og:site_name" content="开放笔记" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-05-19T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Android编程笔记（四）：RecyclerView" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"徐顺发"},"dateModified":"2025-05-19T00:00:00+00:00","datePublished":"2025-05-19T00:00:00+00:00","description":"记录生活、学习和思考","headline":"Android编程笔记（四）：RecyclerView","mainEntityOfPage":{"@type":"WebPage","@id":"https://goooooouwa.github.io/coding/2025/05/19/android-dev-notes-4-recycler-view.html"},"url":"https://goooooouwa.github.io/coding/2025/05/19/android-dev-notes-4-recycler-view.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://goooooouwa.github.io/feed.xml" title="开放笔记" /><script async src="https://www.googletagmanager.com/gtag/js?id=G-669F0VG7BL"></script>
<script>
  window['ga-disable-G-669F0VG7BL'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-669F0VG7BL');
</script>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="/assets/css/google-custom-search-style-fix.css">
<script data-ad-client="ca-pub-6847741633817418" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script src=/assets/javascript/chartjs-2.9.3/chart.min.js></script>
<script src=/assets/javascript/mermaid-8.7.0/mermaid.min.js></script></head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">开放笔记</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/categories.html">分类</a><a class="page-link" href="/tags.html">标签</a><a class="page-link" href="/wiki.html">Wiki</a><a class="page-link" href="/about/">关于作者</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Android编程笔记（四）：RecyclerView</h1>
    <p class="post-meta"><time class="dt-published" datetime="2025-05-19T00:00:00+00:00" itemprop="datePublished">
        May 19, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="markdown-toc">
  <li><a href="#实现recyclerview-adapter和view-holder以及item-view-layout-file" id="markdown-toc-实现recyclerview-adapter和view-holder以及item-view-layout-file">实现RecyclerView adapter和view holder以及item view layout file</a>    <ul>
      <li><a href="#example-recylerview-adapter--view-holder-code" id="markdown-toc-example-recylerview-adapter--view-holder-code">Example RecylerView adapter &amp; view holder code</a></li>
      <li><a href="#example-item-view-layout-file" id="markdown-toc-example-item-view-layout-file">Example item view layout file</a></li>
      <li><a href="#how-to-use-recyclerview" id="markdown-toc-how-to-use-recyclerview">How to use RecyclerView</a></li>
      <li><a href="#how-to-update-list-data" id="markdown-toc-how-to-update-list-data">How to update list data</a></li>
      <li><a href="#references" id="markdown-toc-references">References:</a></li>
    </ul>
  </li>
</ul>

<h2 id="实现recyclerview-adapter和view-holder以及item-view-layout-file">实现RecyclerView adapter和view holder以及item view layout file</h2>

<p>Once you determine your layout, you need to implement your <code class="language-plaintext highlighter-rouge">Adapter</code> and <code class="language-plaintext highlighter-rouge">ViewHolder</code>. These two classes work together to define how your data is displayed. The ViewHolder is a wrapper around a View that contains the layout for an individual item in the list. The Adapter creates ViewHolder objects as needed and also sets the data for those views. The process of associating views to their data is called binding.</p>

<h3 id="example-recylerview-adapter--view-holder-code">Example RecylerView adapter &amp; view holder code</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CustomAdapter</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">dataSet</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">:</span>
        <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">Adapter</span><span class="p">&lt;</span><span class="nc">CustomAdapter</span><span class="p">.</span><span class="nc">ViewHolder</span><span class="p">&gt;()</span> <span class="p">{</span>

    <span class="cm">/**
     * Provide a reference to the type of views that you are using
     * (custom ViewHolder)
     */</span>
    <span class="kd">class</span> <span class="nc">ViewHolder</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nc">View</span><span class="p">)</span> <span class="p">:</span> <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">ViewHolder</span><span class="p">(</span><span class="n">view</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">textView</span><span class="p">:</span> <span class="nc">TextView</span>

        <span class="nf">init</span> <span class="p">{</span>
            <span class="c1">// Define click listener for the ViewHolder's View</span>
            <span class="n">textView</span> <span class="p">=</span> <span class="n">view</span><span class="p">.</span><span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">textView</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Create new views (invoked by the layout manager)</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreateViewHolder</span><span class="p">(</span><span class="n">viewGroup</span><span class="p">:</span> <span class="nc">ViewGroup</span><span class="p">,</span> <span class="n">viewType</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">ViewHolder</span> <span class="p">{</span>
        <span class="c1">// Create a new view, which defines the UI of the list item</span>
        <span class="kd">val</span> <span class="py">view</span> <span class="p">=</span> <span class="nc">LayoutInflater</span><span class="p">.</span><span class="nf">from</span><span class="p">(</span><span class="n">viewGroup</span><span class="p">.</span><span class="n">context</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">inflate</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">text_row_item</span><span class="p">,</span> <span class="n">viewGroup</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>

        <span class="k">return</span> <span class="nc">ViewHolder</span><span class="p">(</span><span class="n">view</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// Replace the contents of a view (invoked by the layout manager)</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onBindViewHolder</span><span class="p">(</span><span class="n">viewHolder</span><span class="p">:</span> <span class="nc">ViewHolder</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Get element from your dataset at this position and replace the</span>
        <span class="c1">// contents of the view with that element</span>
        <span class="n">viewHolder</span><span class="p">.</span><span class="n">textView</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">dataSet</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="c1">// Return the size of your dataset (invoked by the layout manager)</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">getItemCount</span><span class="p">()</span> <span class="p">=</span> <span class="n">dataSet</span><span class="p">.</span><span class="n">size</span>

<span class="p">}</span>
</code></pre></div></div>

<h3 id="example-item-view-layout-file">Example item view layout file</h3>

<p>The layout for the each view item is defined in an XML layout file. Below is an example item view XML layout file:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;FrameLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"@dimen/list_item_height"</span>
    <span class="na">android:layout_marginLeft=</span><span class="s">"@dimen/margin_medium"</span>
    <span class="na">android:layout_marginRight=</span><span class="s">"@dimen/margin_medium"</span>
    <span class="na">android:gravity=</span><span class="s">"center_vertical"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/textView"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"@string/element_text"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/FrameLayout&gt;</span>
</code></pre></div></div>

<h3 id="how-to-use-recyclerview">How to use RecyclerView</h3>

<p>The following code snippet shows how you can use the RecyclerView.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>

        <span class="kd">val</span> <span class="py">dataset</span> <span class="p">=</span> <span class="nf">arrayOf</span><span class="p">(</span><span class="s">"January"</span><span class="p">,</span> <span class="s">"February"</span><span class="p">,</span> <span class="s">"March"</span><span class="p">)</span>
        <span class="kd">val</span> <span class="py">customAdapter</span> <span class="p">=</span> <span class="nc">CustomAdapter</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>

        <span class="kd">val</span> <span class="py">recyclerView</span><span class="p">:</span> <span class="nc">RecyclerView</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">recycler_view</span><span class="p">)</span>
        <span class="n">recyclerView</span><span class="p">.</span><span class="n">layoutManager</span> <span class="p">=</span> <span class="nc">LinearLayoutManager</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
        <span class="n">recyclerView</span><span class="p">.</span><span class="n">adapter</span> <span class="p">=</span> <span class="n">customAdapter</span>

    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<h3 id="how-to-update-list-data">How to update list data</h3>

<ol>
  <li>Provide method to update dataset</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">StudentRecyclerViewAdapter</span><span class="p">():</span> <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">Adapter</span><span class="p">&lt;</span><span class="nc">StudentRecyclerViewAdapter</span><span class="p">.</span><span class="nc">ViewHolder</span><span class="p">&gt;()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="py">studentList</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Student</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">emptyList</span><span class="p">();</span>

    <span class="k">fun</span> <span class="nf">setStudentsList</span><span class="p">(</span><span class="n">students</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Student</span><span class="p">&gt;)</span> <span class="p">{</span>
        <span class="n">studentList</span> <span class="p">=</span> <span class="n">students</span>
    <span class="p">}</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>Call the method to update dataset</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">studentRecyclerViewAdapter</span><span class="p">.</span><span class="nf">setStudentsList</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>(Don’t forget this) Notify the Adapter about the event</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">studentRecyclerViewAdapter</span><span class="p">.</span><span class="nf">notifyItemRangeInserted</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">students</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="references">References:</h3>

<ul>
  <li>https://developer.android.com/develop/ui/views/layout/recyclerview</li>
</ul>

  </div>

  <!-- <div class="reward">
    <p>觉得文章对你有帮助？打赏以支持作者持续创作：</p>
    <div class="reward-button">
      <span class="alipay-code"><img class="alipay-img wdp-appear" alt="支付宝打赏" src="https://goooooouwa.eu.org:8143/static/images/alipay_paycode.jpg"></span>
    </div>
  </div> --><script src="https://utteranc.es/client.js" repo="goooooouwa/goooooouwa.github.io" issue-term="pathname"
    theme="github-light" crossorigin="anonymous" async>
    </script>

  <a class="u-url" href="/coding/2025/05/19/android-dev-notes-4-recycler-view.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>订阅</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">徐顺发</li>
          <li><a class="u-email" href="mailto:gouwa5700 (at) gmail (dot) com">gouwa5700 (at) gmail (dot) com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>记录生活、学习和思考
</p>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />本网站采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://github.com/goooooouwa" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/Goooooouwa" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>